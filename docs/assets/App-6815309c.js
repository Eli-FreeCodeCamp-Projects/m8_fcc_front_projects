import{u as T,r as O,j as s,P as m}from"./index-442a9209.js";import{c as _,b as N,u as d,a as D,P as q}from"./redux-toolkit.esm-57e9f4e9.js";import{B as L}from"./btRange-685ebb13.js";const o=Object.freeze({SESSION:Symbol("session"),BREAK:Symbol("break")}),p=Object.freeze({START:Symbol("start"),STOP:Symbol("stop"),PAUSE:Symbol("pause"),ENDED:Symbol("ended")}),k=e=>T.isNumber(e)&&e>0&&e<=60?e:e>60?60:1,I=(e,t)=>{if(t.toString()===e.timerRun.toString())switch(t){case o.SESSION:e.timerValue=e.sessionTime*60;break;case o.BREAK:e.timerValue=e.breakTime*60;break}},B=e=>{switch(e.timerRun){case o.SESSION.toString():e.timerRun=o.BREAK.toString(),e.timerValue=e.breakTime*60;break;case o.BREAK.toString():e.timerRun=o.SESSION.toString(),e.timerValue=e.sessionTime*60;break;default:e.timerRun=o.SESSION.toString(),e.timerValue=e.sessionTime*60;break}},b={breakTime:5,sessionTime:25,timerRun:o.SESSION.toString(),timerValue:25*60,timerStatus:p.STOP.toString(),isStarted:!1,timerId:null},v=_({name:"clock25_5",initialState:b,reducers:{clearTimer(e){e.breakTime=b.breakTime,e.sessionTime=b.sessionTime,e.timerRun=b.timerRun,e.timerValue=b.timerValue,e.timerStatus=b.timerStatus,e.isStarted=b.isStarted},setBreakTime(e,t){e.breakTime=k(t.payload),I(e,o.BREAK)},setToBreakTime(e,t){const r=parseInt(e.breakTime);switch(t.payload){case"up":e.breakTime=k(r+1);break;case"down":e.breakTime=k(r-1);break}I(e,o.BREAK)},setSessionTime(e,t){e.sessionTime=k(t.payload),I(e,o.SESSION)},setToSessionTime(e,t){const r=parseInt(e.sessionTime);switch(t.payload){case"up":e.sessionTime=k(r+1);break;case"down":e.sessionTime=k(r-1);break}I(e,o.SESSION)},setTimerValue(e){parseInt(e.timerValue)>0?e.timerValue=e.timerValue-1:B(e)},startTimerId(e,t){e.timerId=t.payload},startTimer(e){e.timerStatus=p.START.toString(),e.isStarted=!0},pauseTimer(e){e.timerStatus=p.PAUSE.toString(),e.isStarted=!1},setTimerRun(e){B(e)}}}),{clearTimer:P,setBreakTime:K,setToBreakTime:U,setSessionTime:$,setToSessionTime:z,setTimerValue:F,startTimer:H,pauseTimer:M,startTimerId:G,setTimerRun:ue}=v.actions,J=e=>e.clock25_5.breakTime,Q=e=>e.clock25_5.sessionTime,W=e=>e.clock25_5.timerRun,X=e=>e.clock25_5.timerValue,y=e=>e.clock25_5.timerStatus,Y=e=>e.clock25_5.isStarted,Z=e=>e.clock25_5.timerId,ee=v.reducer;function te(){const e=N(),t=d(W),r=d(X),n=d(y),c=d(Z);O.useEffect(()=>(a(),()=>{clearInterval(c)}),[n]);const l=()=>{const i=document.getElementById("beep");T.isElement(i)&&i.play()},a=()=>{switch(n){case p.START.toString():const i=setInterval(()=>{e(F())},1e3);e(G(i));break;case p.PAUSE.toString():clearInterval(c);break;case p.STOP.toString():clearInterval(c);break}},u=i=>i>=0&&i<10?`0${i}`:`${i}`,R=i=>{i>60*60?i=60*60:i<0&&(i=0),r===0&&l();const j=u(Math.floor(i/60)),S=u(i-j*60);return`${j}:${S}`};let g=i=>{switch(i){case o.SESSION.toString():return"bg-session-body";case o.BREAK.toString():return"bg-break-body"}};const f=i=>{switch(i){case o.SESSION.toString():return"Session";case o.BREAK.toString():return"Break"}};return s.jsxs("div",{className:`timer-display ${g(t)}`,children:[s.jsx("div",{id:"timer-label",className:"timer-label",children:f(t)}),s.jsx("div",{id:"time-left",className:"time-left",children:R(r)})]})}const se=D({reducer:{clock25_5:ee}});function E({label:e,inputId:t,labelId:r,btnUpId:n,btnDownId:c,inputValue:l,handleRangeChange:a,handleBtChange:u,defaultValue:R=50,minValue:g=0,maxValue:f=100,stepValue:i=1}){const S=((V,C)=>{let h=T.isNumber(V)?parseInt(V):parseInt(C);return h>f?h=f:h<g&&(h=g),h})(l,R),w=S>=f,A=S<=g;return s.jsxs("div",{className:"timer-selector",children:[s.jsx(L,{onlyInput:!0,disabled:!1,inputId:`${t}-range`,inputValue:S,minValue:g,maxValue:f,stepValue:i,handleChange:a}),s.jsx("div",{className:"tSel-label",children:s.jsx("label",{id:r,htmlFor:t,children:e})}),s.jsxs("div",{className:"input-group",children:[s.jsx("button",{id:n,className:"btn btn-outline-secondary",type:"button","data-action":"up",onClick:u,disabled:w,children:s.jsx("i",{className:"fas fa-arrow-up"})}),s.jsx("div",{id:t,className:"tSel-value","data-value":""+S,children:""+S}),s.jsx("button",{id:c,className:"btn btn-outline-secondary",type:"button","data-action":"down",onClick:u,disabled:A,children:s.jsx("i",{className:"fas fa-arrow-down"})})]})]})}E.propTypes={label:m.string.isRequired,inputId:m.string.isRequired,labelId:m.string.isRequired,btnUpId:m.string.isRequired,btnDownId:m.string.isRequired,inputValue:m.number.isRequired,defaultValue:m.number.isRequired,handleRangeChange:m.func.isRequired,handleBtChange:m.func.isRequired,minValue:m.number,maxValue:m.number,stepValue:m.number};class x{static isNotStarted(t){return t!==p.START.toString()}static setDisplay(t,r){const n=document.getElementById(t);T.isElement(n)&&(n.innerText=r)}static setToDisplay(t,r){const n=document.getElementById(t);if(T.isElement(n)){const c=parseInt(n.innerText);if(c>=0)switch(r.payload){case"up":n.innerText=""+(c+1);break;case"down":n.innerText=""+(c-1);break}}}}function ie(){const e=N(),t=d(y),r=d(J),n=l=>{if(x.isNotStarted(t)){const u=l.target.getAttribute("data-action");e(U(u))}},c=l=>{if(x.isNotStarted(t)){const a=parseInt(l.target.value);e(K(a))}};return s.jsx("div",{className:"break-selector",children:s.jsx(E,{label:"Break Length",labelId:"break-label",inputId:"break-length",btnDownId:"break-decrement",btnUpId:"break-increment",defaultValue:5,inputValue:r,minValue:0,maxValue:60,stepValue:1,handleBtChange:n,handleRangeChange:c})})}function re(){const e=N(),t=d(y),r=d(Q),n=l=>{if(x.isNotStarted(t)){const u=l.target.getAttribute("data-action");e(z(u))}},c=l=>{if(x.isNotStarted(t)){const a=parseInt(l.target.value);e($(a))}};return s.jsx("div",{className:"session-selector",children:s.jsx(E,{label:"Session Length",labelId:"session-label",inputId:"session-length",btnDownId:"session-decrement",btnUpId:"session-increment",defaultValue:25,inputValue:parseInt(r),minValue:0,maxValue:60,stepValue:1,handleBtChange:n,handleRangeChange:c})})}function ne(){const e=N(),t=d(Y),r=()=>{const a=document.querySelector(".timer-control button.active");T.isElement(a)&&a.classList.remove("active")},n=a=>{const u=a.target;t===!0?(e(M()),u.classList.remove("active")):(e(H()),u.classList.add("active"))},c=()=>{const a=document.getElementById("beep");T.isElement(a)&&(a.pause(),a.currentTime=0)},l=()=>{r(),c(),e(P())};return s.jsx("div",{className:"timer-control",children:s.jsxs("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example",children:[s.jsx("button",{id:"start_stop",type:"button",className:"btn btn-default",onClick:n,children:t===!0?s.jsx("i",{className:"fas fa-pause"}):s.jsx("i",{className:"fas fa-play"})}),s.jsx("button",{id:"reset",type:"button",className:"btn btn-default",onClick:l,children:s.jsx("i",{className:"fas fa-sync"})})]})})}const ae=""+new URL("BeepSound-44aadca7.wav",import.meta.url).href;function me(){return s.jsx(q,{store:se,children:s.jsxs("section",{id:"clock-container",className:"container-fluid",children:[s.jsxs("div",{className:"clock-selector",children:[s.jsx(ie,{}),s.jsx(re,{})]}),s.jsxs("div",{className:"clock-body",children:[s.jsx(te,{}),s.jsx(ne,{})]}),s.jsx("div",{className:"clock-footer"}),s.jsx("audio",{id:"beep",preload:"auto",src:ae})]})})}export{me as default};
