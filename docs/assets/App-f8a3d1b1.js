import{u as p,r as D,j as t,P as l}from"./index-1110fe29.js";import{c as L,b as R,u as S,a as P,P as M}from"./redux-toolkit.esm-e405d01d.js";import{B as q}from"./btRange-806fb342.js";const c=Object.freeze({SESSION:Symbol("session"),BREAK:Symbol("break")}),f=Object.freeze({START:Symbol("start"),STOP:Symbol("stop"),PAUSE:Symbol("pause")}),h=e=>p.isNumber(e)&&e>0&&e<=60?e:e>60?60:1,I=(e,s)=>{if(s.toString()===e.timerRun.toString()){switch(s){case c.SESSION:e.timerValue=e.sessionTime*60;break;case c.BREAK:e.timerValue=e.breakTime*60;break}e.timerMax=e.timerValue}},C=e=>{switch(e.timerRun){case c.SESSION.toString():e.timerRun=c.BREAK.toString(),e.timerValue=e.breakTime*60;break;case c.BREAK.toString():e.timerRun=c.SESSION.toString(),e.timerValue=e.sessionTime*60;break;default:e.timerRun=c.SESSION.toString(),e.timerValue=e.sessionTime*60;break}e.timerMax=e.timerValue},b={breakTime:5,sessionTime:25,timerRun:c.SESSION.toString(),timerValue:25*60,timerMax:25*60,timerStatus:f.STOP.toString(),isStarted:!1,timerId:null},O=L({name:"clock25_5",initialState:b,reducers:{clearTimer(e){e.breakTime=b.breakTime,e.sessionTime=b.sessionTime,e.timerRun=b.timerRun,e.timerValue=b.timerValue,e.timerMax=b.timerMax,e.timerStatus=b.timerStatus,e.isStarted=b.isStarted},setBreakTime(e,s){e.breakTime=h(s.payload),I(e,c.BREAK)},setToBreakTime(e,s){const i=parseInt(e.breakTime);switch(s.payload){case"up":e.breakTime=h(i+1);break;case"down":e.breakTime=h(i-1);break}I(e,c.BREAK)},setSessionTime(e,s){e.sessionTime=h(s.payload),I(e,c.SESSION)},setToSessionTime(e,s){const i=parseInt(e.sessionTime);switch(s.payload){case"up":e.sessionTime=h(i+1);break;case"down":e.sessionTime=h(i-1);break}I(e,c.SESSION)},setTimerValue(e){parseInt(e.timerValue)>0?e.timerValue=e.timerValue-1:C(e)},startTimerId(e,s){e.timerId=s.payload},startTimer(e){e.timerStatus=f.START.toString(),e.isStarted=!0},pauseTimer(e){e.timerStatus=f.PAUSE.toString(),e.isStarted=!1},setTimerRun(e){C(e)}}}),{clearTimer:K,setBreakTime:U,setToBreakTime:$,setSessionTime:z,setToSessionTime:F,setTimerValue:H,startTimer:G,pauseTimer:J,startTimerId:Q,setTimerRun:Se}=O.actions,W=e=>e.clock25_5.breakTime,X=e=>e.clock25_5.sessionTime,Y=e=>e.clock25_5.timerRun,Z=e=>e.clock25_5.timerValue,ee=e=>e.clock25_5.timerMax,v=e=>e.clock25_5.timerStatus,te=e=>e.clock25_5.isStarted,se=e=>e.clock25_5.timerId,re=O.reducer;function _({timerValueChange:e=null,timerLabelChange:s=null}){const i=R(),a=S(Y),o=S(Z),u=S(ee),n=S(v),m=S(se);D.useEffect(()=>(k(),()=>{clearInterval(m)}),[n]);const j=()=>{const r=document.getElementById("beep");p.isElement(r)&&r.play()},k=()=>{switch(n){case f.START.toString():const r=setInterval(()=>{i(H())},1e3);i(Q(r));break;case f.PAUSE.toString():clearInterval(m);break;case f.STOP.toString():clearInterval(m);break}},T=r=>r>=0&&r<10?`0${r}`:`${r}`,y=r=>{p.isFunction(e)&&e(r)},w=r=>{r===0&&j(),y({timerValue:r});const d=T(Math.floor(r/60)),E=T(r-d*60);return`${d}:${E}`};let g=r=>{switch(r){case c.SESSION.toString():return"bg-session-clock";case c.BREAK.toString():return"bg-break-clock"}};const V=r=>{switch(r){case c.SESSION.toString():return"Session";case c.BREAK.toString():return"Break"}},x={"--clock-current-deg":`${((r,d)=>{const E=Math.ceil(r*100/d);return Math.ceil(360-E*360/100)})(o,u)}deg`};return t.jsxs("div",{className:`timer-display ${g(a)}`,style:x,children:[t.jsx("div",{id:"timer-label",className:"timer-label",children:V(a)}),t.jsx("div",{id:"time-left",className:"time-left",children:w(o)})]})}_.propTypes={timerValueChange:l.func,timerLabelChange:l.func};const ie=P({reducer:{clock25_5:re}});function B({label:e,inputId:s,labelId:i,btnUpId:a,btnDownId:o,inputValue:u,handleRangeChange:n,handleBtChange:m,defaultValue:j=50,minValue:k=0,maxValue:T=100,stepValue:y=1}){const g=((x,r)=>{let d=p.isNumber(x)?parseInt(x):parseInt(r);return d>T?d=T:d<k&&(d=k),d})(u,j),V=g>=T,A=g<=k;return t.jsxs("div",{className:"timer-selector",children:[t.jsx("div",{className:"tSel-label",children:t.jsx("label",{id:i,htmlFor:s,children:e})}),t.jsxs("div",{className:"input-group",children:[t.jsx("button",{id:a,className:"btn btn-outline-secondary",type:"button","data-action":"up",onClick:m,disabled:V,children:t.jsx("i",{className:"fas fa-arrow-up"})}),t.jsx("div",{id:s,className:"tSel-value","data-value":""+g,children:""+g}),t.jsx("button",{id:o,className:"btn btn-outline-secondary",type:"button","data-action":"down",onClick:m,disabled:A,children:t.jsx("i",{className:"fas fa-arrow-down"})})]}),t.jsx(q,{onlyInput:!0,disabled:!1,inputId:`${s}-range`,inputValue:g,minValue:k,maxValue:T,stepValue:y,handleChange:n})]})}B.propTypes={label:l.string.isRequired,inputId:l.string.isRequired,labelId:l.string.isRequired,btnUpId:l.string.isRequired,btnDownId:l.string.isRequired,inputValue:l.number.isRequired,defaultValue:l.number.isRequired,handleRangeChange:l.func.isRequired,handleBtChange:l.func.isRequired,minValue:l.number,maxValue:l.number,stepValue:l.number};class N{static isNotStarted(s){return s!==f.START.toString()}static setDisplay(s,i){const a=document.getElementById(s);p.isElement(a)&&(a.innerText=i)}static setToDisplay(s,i){const a=document.getElementById(s);if(p.isElement(a)){const o=parseInt(a.innerText);if(o>=0)switch(i.payload){case"up":a.innerText=""+(o+1);break;case"down":a.innerText=""+(o-1);break}}}}function ne(){const e=R(),s=S(v),i=S(W),a=u=>{if(N.isNotStarted(s)){const m=u.target.getAttribute("data-action");e($(m))}},o=u=>{if(N.isNotStarted(s)){const n=parseInt(u.target.value);e(U(n))}};return t.jsx("div",{className:"break-selector",children:t.jsx(B,{label:"Break Length",labelId:"break-label",inputId:"break-length",btnDownId:"break-decrement",btnUpId:"break-increment",defaultValue:5,inputValue:i,minValue:0,maxValue:60,stepValue:1,handleBtChange:a,handleRangeChange:o})})}function ae(){const e=R(),s=S(v),i=S(X),a=u=>{if(N.isNotStarted(s)){const m=u.target.getAttribute("data-action");e(F(m))}},o=u=>{if(N.isNotStarted(s)){const n=parseInt(u.target.value);e(z(n))}};return t.jsx("div",{className:"session-selector",children:t.jsx(B,{label:"Session Length",labelId:"session-label",inputId:"session-length",btnDownId:"session-decrement",btnUpId:"session-increment",defaultValue:25,inputValue:parseInt(i),minValue:0,maxValue:60,stepValue:1,handleBtChange:a,handleRangeChange:o})})}function ce(){const e=R(),s=S(te),i=()=>{const n=document.querySelector(".timer-control button.active");p.isElement(n)&&n.classList.remove("active")},a=n=>{const m=n.target;s===!0?(e(J()),m.classList.remove("active")):(e(G()),m.classList.add("active"))},o=()=>{const n=document.getElementById("beep");p.isElement(n)&&(n.pause(),n.currentTime=0)},u=()=>{i(),o(),e(K())};return t.jsx("div",{className:"timer-control",children:t.jsxs("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example",children:[t.jsx("button",{id:"start_stop",type:"button",className:"btn btn-default",onClick:a,children:s===!0?t.jsx("i",{className:"fas fa-pause"}):t.jsx("i",{className:"fas fa-play"})}),t.jsx("button",{id:"reset",type:"button",className:"btn btn-default",onClick:u,children:t.jsx("i",{className:"fas fa-sync"})})]})})}const oe=""+new URL("BeepSound-44aadca7.wav",import.meta.url).href;function be(){return t.jsx(M,{store:ie,children:t.jsxs("section",{id:"clock-container",className:"container-fluid",children:[t.jsxs("div",{className:"clock-selector",children:[t.jsx(ne,{}),t.jsx(ae,{})]}),t.jsxs("div",{className:"clock-body",children:[t.jsx(_,{}),t.jsx(ce,{})]}),t.jsx("div",{className:"clock-footer"}),t.jsx("audio",{id:"beep",preload:"auto",src:oe})]})})}export{be as default};
