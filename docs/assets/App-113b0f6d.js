import{u as o,P as t,p as v,r as h,j as s}from"./index-69ecd592.js";import{c as D,a as R,b as y,u as m,P as g}from"./redux-toolkit.esm-c44df4d1.js";import{D as j}from"./displayBox-3e31f8cb.js";const H=""+new URL("Heater-1-4a2026cd.mp3",import.meta.url).href,L=""+new URL("Heater-2-b5771e5b.mp3",import.meta.url).href,N=""+new URL("Heater-3-b358656c.mp3",import.meta.url).href,P=""+new URL("Heater-4_1-57dd4987.mp3",import.meta.url).href,_=""+new URL("Heater-6-ab9ec572.mp3",import.meta.url).href,I=""+new URL("Dsc_Oh-0c5f0d7a.mp3",import.meta.url).href,F=""+new URL("Kick_n_Hat-9e34ec40.mp3",import.meta.url).href,K=""+new URL("RP4_KICK_1-bd3d88a9.mp3",import.meta.url).href,Q="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAEAAAIjwAPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw9paWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlptLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tP////////////////////////////////8AAAA8TEFNRTMuMTAwBK8AAAAAAAAAABUgJAJAQQABzAAACI9k5/u1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwAAB/gAAACAAAD/AAAAEALAMALAKAsBZFYYEAQBQC8hPDgCeKfNjT0FnSICk/ImVxnxS4rQDDBgMEAAwwb4DQ8c0NvFbj0TwdGKOINAwIv8nEEDQToJ7EAxIAtgdHWFg/4b/+7DEKYAAAAH+FAAAIyLBqv8LQMkzAObhtgoMGxY+CoFvYGjIhzg9QAAIAoELv/LhZHGTBqT4uMjCICCZE0ABg4XDiAYdOYGf/xYDNBJEril0Dd1jmkSHAM2LnKwaoFrGmJTD4//+6bobrdq3N4sayMIgSA5ZJkQ0ETc4Mp////6Z9UuX///5OG8i/dzd//7fAAAAG+QYiuOETrdvSSNsRiJC5mrESRgVKhWhiXCBoJGxoEIhoMAC9wJBkX1SAgWQnr5FQxo5gYS3ihSyS7gBA5EAAIwcLMMKC7Tps8bM2iSzQC5CmShYiAx4FUXLwt3MJAFpgofSWkCbxCKGYlJjhCFA8LCAKCzDAgwEbMJARGFAgPMBBzEDwKgpjJwBYEyZqMVIASGmDhRmIGscaNBkBQwKzkHC7KRERmGBIYGCQAKCTLzCyIxkbNpZYWZWMGVmZm4yYMQGRAZgBmbCFhxODigeBhAIgUCEIkAkBMw1sbTqAwCl+FwhHwaEB4CDhwCBhMEmLh4OVy3RiAMnAYMIGFF4MIjEhYz0dAgSNDoFCh4RIhQiBnhFhAsiYCCGTFiJhbgqALO2QQSijOvAh0LoJ7quWeTAi+Jt2HRcmNOc5LiQNDMppXhjd7HDn/rdj//////5c3a7JJfS0vf38DfyZWAJDCLSBOv/pwLgPWgigmz1JRV7OWdNvO/nT/jzDn53cLMlwch9lhm70VA7cmh0dVBClalz9X3ei0mEbG7xGjV2KFd9HJdLMonFmgXlVWnIgiTEpm7gQay0hDAUHBG3KqMlRNZcXoLnJNRJlhC04gYaiCpB/ChTKlHlU0cVVcpW1//7oMTzgGwZoUn9jYAjeS+p+peAAJawCGaAls2spotOUXkPGkv+pco69UOPLCXNYyjpF2SSd+VjOYmi+jtxiFrDPK0pfMF4YqWS2r959pJHN1pQ9rsS+r9BTVJbSTEXlfLH3Zdz/+7V5+Eze+27yr3s3Mt3gCUAAAAACl7FvQUSI+78GqwFqyZQjFDDwJPp9BUG8rH2mtcue8LcpZYaNL4qo5M35poV6BIqsCwt4IgiMje6CsZVJNLYYxIGHwcxqwCusEGAwMsZQ4VCmAAuQTC0jkUREDNoXTsFAIYFC45i5ixSCyAQMJFZIzDAAlTIhZEDhZgwok0ARRKZDgFwAsGEQpskUMoeO6PBBBOcwhEVKmiBmaGio8xBIijLIdNAIY8uZ4whLMcVBIgBCgSABAZl4CAmAKlYBjLCY4MCRpq1jSFQskX2gLbZdiaZbNr7DWvgkRCFL1jLqZEpsRB1HXnUvXkrpjCKUvQeZHCmAJdkgB0JY7+Uleyz2DOv5Rb+LuVCYZeytTyTCPRa/L/9P9VSdbBLpi3K5y5Rv082u/93tumWMAAAFSltE1E1EJDUltJyQUtw9Q9RpGkW5XIchxytWra1rWtrWta1rWrMzM7WszVlatd7KrTkxMTExMTFdadrONLuta3zNrTh0IQEgPCMq2zRkJQlCUJRkZLXa1ZWnJiYrly61rWtZv/7oMTOgCYJl0nZjQACZKhpf57AAVatWu1nazWq2ta9OWtb5mZmta1rVatXLly5cuesEuCgoKBQV3/iCgoL/+Cg1UxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",p=[{name:"bank1",display:"Heater kit",drum_pads:[{id:"Heater-1",shortcut:"Q",key_code:0,display:"Heater 1",sound:H},{id:"Heater-2",shortcut:"W",key_code:0,display:"Heater 2",sound:L},{id:"Heater-3",shortcut:"E",key_code:0,display:"Heater 3",sound:N},{id:"Heater-4",shortcut:"A",key_code:0,display:"Heater 4",sound:P},{id:"Clap",shortcut:"S",key_code:0,display:"Clap",sound:_},{id:"Open-HH",shortcut:"D",key_code:0,display:"Open HH",sound:I},{id:"Kick-n-Hat",shortcut:"Z",key_code:0,display:"Kick n'Hat",sound:F},{id:"Kick",shortcut:"X",key_code:0,display:"Kick",sound:K},{id:"Closed-HH",shortcut:"C",key_code:0,display:"Closed HH",sound:Q}]},{name:"bank2",display:"Smooth Piano Kit",drum_pads:[{id:"Chord_1",shortcut:"Q",key_code:0,display:"Chord 1",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{id:"Chord_2",shortcut:"W",key_code:0,display:"Chord 2",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{id:"Chord-3",shortcut:"E",key_code:0,display:"Chord 3",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{id:"Shaker",shortcut:"A",key_code:0,display:"Shaker",sound:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{id:"Open-HH",shortcut:"S",key_code:0,display:"Open HH",sound:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{id:"Closed-HH",shortcut:"D",key_code:0,display:"Closed HH",sound:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{id:"Punchy-Kick",shortcut:"Z",key_code:0,display:"Punchy Kick",sound:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{id:"Side-Stick",shortcut:"X",key_code:0,display:"Side Kick",sound:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{id:"Snare",shortcut:"C",key_code:0,display:"Snake",sound:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}]}],T=()=>{if(o.isArray(p)){let e="",V=[];const a=p.reduce((r,A,d)=>{if(o.isStr(A.name))return r.push({value:A.name,label:d+1}),V=A.drum_pads,e===""&&(e=A.name),r},[]);return{power:!0,displayMsg:"",volume:50,bank:e,availableBanks:a,bankPads:V}}else throw new Error("Redux Error : Unable to loadSoundBanks, invalid sound banks data. Must be an Array of Objects.")},w=D({name:"mdPreviewer",initialState:T(),reducers:{setSoundBank:{reducer(e,V){e.bank=V.payload.bank,e.displayMsg=V.payload.display,e.bankPads=V.payload.bankPads},prepare(e){if(o.isArray(p)){let V=p.filter(a=>{if(e===a.name)return a});if(V.length===1){if(V=V[0],!o.isStr(V.display)||V.display==="")throw new Error(`Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.display must be a string and not null. ${V.display}`);if(!o.isArray(V.drum_pads)||V.drum_pads.length===0)throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.bankPads must be an Array and not null.");const a=V.display,r=V.drum_pads;return{payload:{bank:e,display:a,bankPads:r}}}else throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.name must be unique and not null.")}else throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. Must be an Array of Objects.")}},setPower(e,V){const a=V.payload===!0;e.power=a,e.displayMsg=a===!0?"Welcome to Drum Machine!!!":"Good bye!!!"},setVolume(e,V){const a=o.isNumber(V.payload)?parseInt(V.payload):25;e.volume=a,e.displayMsg=`Volume set to ${a}%`},setDisplay(e,V){e.displayMsg=o.isStr(V.payload)?V.payload:"Bad Message"}}}),{setSoundBank:W,setPower:Z,setVolume:q,setDisplay:J}=w.actions,k=e=>e.drmMachine.power,U=e=>e.drmMachine.displayMsg,f=e=>e.drmMachine.volume,G=e=>e.drmMachine.bank,Y=e=>e.drmMachine.availableBanks,z=e=>e.drmMachine.bankPads,O=w.reducer,x=R({reducer:{drmMachine:O}});function B({itemId:e,containerClasses:V,label:a,value:r,setValue:A}){h.useEffect(()=>{r===!0&&(document.getElementById(e).checked=!0)},[]);const d=V.reduce((i,l)=>(o.isAttrKey(l)&&(i+=`${l} `),i),"");return s.jsxs("div",{className:`form-check form-switch ${d}`,children:[s.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:e,onChange:A}),s.jsx("label",{className:"form-check-label",htmlFor:e,children:a})]})}B.propTypes={itemId:t.string.isRequired,containerClasses:t.arrayOf(v.string).isRequired,label:t.string.isRequired,value:t.bool.isRequired,setValue:t.func.isRequired};function X(){const e=y(),V=m(k),a=r=>{const A=r.target;e(Z(A.checked))};return s.jsx(B,{itemId:"dm-power-switch",value:V,containerClasses:["power-box"],label:"Power",setValue:a})}function $(){const e=m(U);return s.jsx(j,{displayMsg:e,itemId:"display",itemClass:"display-box"})}function S({disabled:e,inputValue:V,stepValue:a,minValue:r,maxValue:A,inputId:d,inputName:i,label:l,handleChange:u}){return h.useEffect(()=>{const n=document.getElementById(d);!e&&o.isNumber(V)&&(n.value=V)},[]),s.jsxs("div",{className:"vol-box",children:[s.jsx("label",{htmlFor:d,className:"form-label",children:l}),s.jsx("input",{type:"range",className:"form-range",min:o.isNumber(r)?r:0,max:o.isNumber(A)?A:100,step:o.isNumber(a)?a:1,id:d,name:o.isAttrKey(i)?i:d,onChange:u,disabled:e})]})}S.propTypes={disabled:t.bool.isRequired,inputValue:t.number.isRequired,stepValue:t.number,minValue:t.number,maxValue:t.number,inputId:t.string.isRequired,inputName:t.string,label:t.string.isRequired,handleChange:t.func.isRequired};function ee(){const e=y(),V=m(k),a=m(f),r=A=>{const d=A.target;e(q(d.value))};return s.jsx(S,{disabled:!V,inputValue:a,inputId:"drum-box-vol",label:`Volume ${a} %`,handleChange:r})}function M({disabled:e,selectedValue:V,options:a,radioName:r,radioId:A,title:d,handleChange:i}){h.useEffect(()=>{if(o.isStr(V)){const u=`${V}-${A}`;document.getElementById(u).checked=!0}},[]);const l=a.map((u,n)=>s.jsxs("div",{className:"pe-2 btn-check-container",children:[s.jsx("input",{type:"radio",className:"btn-check",name:r,id:`${u.value}-${A}`,autoComplete:"off","data-bank":u.value,onChange:i,disabled:!e},n),s.jsx("label",{className:"btn btn-outline-light",htmlFor:`${u.value}-${A}`,children:u.label})]},n));return s.jsxs("div",{className:"btn-check-container",children:[s.jsx("div",{className:"btn-check-header",children:d}),s.jsx("div",{className:"d-flex flex-row btn-check-body",children:l})]})}M.propTypes={disabled:t.bool.isRequired,selectedValue:t.string.isRequired,options:t.array.isRequired,radioName:t.string.isRequired,radioId:t.string.isRequired,title:t.string.isRequired,handleChange:t.func.isRequired};function Ve(){const e=y(),V=m(k),a=m(G),r=m(Y),A=d=>{const l=d.target.getAttribute("data-bank");e(W(l))};return s.jsx(M,{disabled:V,selectedValue:a,options:r,radioName:"m8-snd-bank-selector",radioId:"m8-snd-bank",title:"Select a Sound Bank",handleChange:A})}function E({controls:e}){return s.jsx("div",{className:"drum-box-control",children:e})}E.propTypes={controls:t.element.isRequired};function se(){const e=y(),V=m(k),a=m(f),r=m(z);h.useEffect(()=>(document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}),[]);const A=n=>{const c=document.getElementById(`${n}`);o.isElement(c)&&(e(J(c.parentElement.getAttribute("data-display"))),c.volume=o.toFixedFloat(a/100,2),c.play())},d=n=>{const b=n.target.getAttribute("data-shortcut");A(b)},i=n=>{const c=o.isStr(n.key)?n.key.toUpperCase():null;r.filter(C=>{if(C.shortcut===c)return C}).length===1&&A(c)},l=V?"":"disabled",u=r.map((n,c)=>s.jsx("div",{className:"col-4 pad-container",children:s.jsxs("div",{id:n.id,className:`d-flex flex-column justify-content-center drum-pad ${l}`,"data-shortcut":n.shortcut,"data-display":n.display,onClick:V?d:null,children:[s.jsx("audio",{id:n.shortcut,className:"clip",src:V?n.sound:"#"}),n.shortcut]},c)},c));return s.jsx("div",{className:"container-fluid",children:s.jsx("div",{className:"row",children:u})})}function ae(){const e=s.jsxs(s.Fragment,{children:[s.jsx(X,{},"powerSelector"),s.jsx($,{},"displayBox"),s.jsx(ee,{},"volumeSelector"),s.jsx(Ve,{},"bankSelector")]});return s.jsx(g,{store:x,children:s.jsx("section",{id:"drum-container",className:"container-fluid d-flex ",children:s.jsx("div",{id:"drum-machine",className:"container-fluid",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{id:"drum-header",className:"col-md-12",children:s.jsx("h1",{children:"M8 Drum Machine"})}),s.jsx("div",{id:"drum-pads",className:"col-md-6",children:s.jsx(se,{})}),s.jsx("div",{id:"drum-controls",className:"col-md-6",children:s.jsx(E,{controls:e})})]})})})})}function ne(){return s.jsx(g,{store:x,children:s.jsx(ae,{})})}export{ne as default};
