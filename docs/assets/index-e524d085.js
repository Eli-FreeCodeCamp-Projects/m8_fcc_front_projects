import{w as P,d as p,R as f,x as E,y as w,z as O}from"./index-501f51de.js";function _(){const e=P();let n=null,s=null;return{clear(){n=null,s=null},notify(){e(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){let t=[],o=n;for(;o;)t.push(o),o=o.next;return t},subscribe(t){let o=!0,r=s={callback:t,next:null,prev:s};return r.prev?r.prev.next=r:n=r,function(){!o||n===null||(o=!1,r.next?r.next.prev=r.prev:s=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}const S={notify(){},get:()=>[]};function N(e,n){let s,t=S,o=0,r=!1;function u(R){b();const C=t.subscribe(R);let y=!1;return()=>{y||(y=!0,C(),d())}}function a(){t.notify()}function c(){l.onStateChange&&l.onStateChange()}function i(){return r}function b(){o++,s||(s=n?n.addNestedSub(c):e.subscribe(c),t=_())}function d(){o--,s&&o===0&&(s(),s=void 0,t.clear(),t=S)}function g(){r||(r=!0,b())}function T(){r&&(r=!1,d())}const l={addNestedSub:u,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:i,trySubscribe:g,tryUnsubscribe:T,getListeners:()=>t};return l}const L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D=L?p.useLayoutEffect:p.useEffect;function $({store:e,context:n,children:s,serverState:t,stabilityCheck:o="once",noopCheck:r="once"}){const u=p.useMemo(()=>{const i=N(e);return{store:e,subscription:i,getServerState:t?()=>t:void 0,stabilityCheck:o,noopCheck:r}},[e,t,o,r]),a=p.useMemo(()=>e.getState(),[e]);D(()=>{const{subscription:i}=u;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),a!==e.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[u,a]);const c=n||f;return p.createElement(c.Provider,{value:u},s)}function h(e=f){const n=e===f?E:w(e);return function(){const{store:t}=n();return t}}const U=h();function k(e=f){const n=e===f?U:h(e);return function(){return n().dispatch}}const A=k();var m={exports:{}},W="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F=W,I=F;function x(){}function v(){}v.resetWarningCache=x;var H=function(){function e(t,o,r,u,a,c){if(c!==I){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}e.isRequired=e;function n(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:v,resetWarningCache:x};return s.PropTypes=s,s};m.exports=H();var j=m.exports;const B=O(j);export{B as P,$ as a,j as p,A as u};
