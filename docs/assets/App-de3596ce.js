import{u as g,r as O,j as s,P as m}from"./index-48dc19aa.js";import{c as _,b as N,u as d,a as D,P as q}from"./redux-toolkit.esm-0a44300c.js";import{B as L}from"./btRange-8ad2d465.js";const c=Object.freeze({SESSION:Symbol("session"),BREAK:Symbol("break")}),T=Object.freeze({START:Symbol("start"),STOP:Symbol("stop"),PAUSE:Symbol("pause"),ENDED:Symbol("ended")}),k=e=>g.isNumber(e)&&e>0&&e<=60?e:e>60?60:1,I=(e,t)=>{if(t.toString()===e.timerRun.toString())switch(t){case c.SESSION:e.timerValue=e.sessionTime*60;break;case c.BREAK:e.timerValue=e.breakTime*60;break}},v=e=>{switch(e.timerRun){case c.SESSION.toString():e.timerRun=c.BREAK.toString(),e.timerValue=e.breakTime*60;break;case c.BREAK.toString():e.timerRun=c.SESSION.toString(),e.timerValue=e.sessionTime*60;break;default:e.timerRun=c.SESSION.toString(),e.timerValue=e.sessionTime*60;break}},p={breakTime:5,sessionTime:25,timerRun:c.SESSION.toString(),timerValue:25*60,timerStatus:T.STOP.toString(),isStarted:!1,timerId:null},B=_({name:"clock25_5",initialState:p,reducers:{clearTimer(e){e.breakTime=p.breakTime,e.sessionTime=p.sessionTime,e.timerRun=p.timerRun,e.timerValue=p.timerValue,e.timerStatus=p.timerStatus,e.isStarted=p.isStarted},setBreakTime(e,t){e.breakTime=k(t.payload),I(e,c.BREAK)},setToBreakTime(e,t){const i=parseInt(e.breakTime);switch(t.payload){case"up":e.breakTime=k(i+1);break;case"down":e.breakTime=k(i-1);break}I(e,c.BREAK)},setSessionTime(e,t){e.sessionTime=k(t.payload),I(e,c.SESSION)},setToSessionTime(e,t){const i=parseInt(e.sessionTime);switch(t.payload){case"up":e.sessionTime=k(i+1);break;case"down":e.sessionTime=k(i-1);break}I(e,c.SESSION)},setTimerValue(e){parseInt(e.timerValue)>0?e.timerValue=e.timerValue-1:v(e)},startTimerId(e,t){e.timerId=t.payload},startTimer(e){e.timerStatus=T.START.toString(),e.isStarted=!0},pauseTimer(e){e.timerStatus=T.PAUSE.toString(),e.isStarted=!1},setTimerRun(e){v(e)}}}),{clearTimer:P,setBreakTime:U,setToBreakTime:K,setSessionTime:$,setToSessionTime:z,setTimerValue:F,startTimer:H,pauseTimer:M,startTimerId:G,setTimerRun:ue}=B.actions,J=e=>e.clock25_5.breakTime,Q=e=>e.clock25_5.sessionTime,W=e=>e.clock25_5.timerRun,X=e=>e.clock25_5.timerValue,y=e=>e.clock25_5.timerStatus,Y=e=>e.clock25_5.isStarted,Z=e=>e.clock25_5.timerId,ee=B.reducer;function te(){const e=N(),t=d(W),i=d(X),n=d(y),o=d(Z);O.useEffect(()=>(a(),()=>{clearInterval(o)}),[n]);const l=()=>{const r=document.getElementById("beep");g.isElement(r)&&r.play()},a=()=>{switch(n){case T.START.toString():const r=setInterval(()=>{e(F())},1e3);e(G(r));break;case T.PAUSE.toString():clearInterval(o);break;case T.STOP.toString():clearInterval(o);break}},u=r=>r>=0&&r<10?`0${r}`:`${r}`,R=r=>{r>60*60?r=60*60:r<0&&(r=0),i===0&&l();const j=u(Math.floor(r/60)),b=u(r-j*60);return`${j}:${b}`};let S="bg-session-body";const f=r=>{switch(r){case c.SESSION.toString():return S="bg-session","Session";case c.BREAK.toString():return S="bg-break","Break"}};return s.jsxs("div",{className:`timer-display ${S}`,children:[s.jsx("div",{id:"timer-label",className:"timer-label",children:f(t)}),s.jsx("div",{id:"time-left",className:"time-left",children:R(i)})]})}const se=D({reducer:{clock25_5:ee}});function E({label:e,inputId:t,labelId:i,btnUpId:n,btnDownId:o,inputValue:l,handleRangeChange:a,handleBtChange:u,defaultValue:R=50,minValue:S=0,maxValue:f=100,stepValue:r=1}){const b=((V,C)=>{let h=g.isNumber(V)?parseInt(V):parseInt(C);return h>f?h=f:h<S&&(h=S),h})(l,R),w=b>=f,A=b<=S;return s.jsxs("div",{className:"timer-selector",children:[s.jsx(L,{onlyInput:!0,disabled:!1,inputId:`${t}-range`,inputValue:b,minValue:S,maxValue:f,stepValue:r,handleChange:a}),s.jsx("div",{className:"tSel-label",children:s.jsx("label",{id:i,htmlFor:t,children:e})}),s.jsxs("div",{className:"input-group",children:[s.jsx("button",{id:n,className:"btn btn-outline-secondary",type:"button","data-action":"up",onClick:u,disabled:w,children:s.jsx("i",{className:"fas fa-arrow-up"})}),s.jsx("div",{id:t,className:"tSel-value","data-value":""+b,children:""+b}),s.jsx("button",{id:o,className:"btn btn-outline-secondary",type:"button","data-action":"down",onClick:u,disabled:A,children:s.jsx("i",{className:"fas fa-arrow-down"})})]})]})}E.propTypes={label:m.string.isRequired,inputId:m.string.isRequired,labelId:m.string.isRequired,btnUpId:m.string.isRequired,btnDownId:m.string.isRequired,inputValue:m.number.isRequired,defaultValue:m.number.isRequired,handleRangeChange:m.func.isRequired,handleBtChange:m.func.isRequired,minValue:m.number,maxValue:m.number,stepValue:m.number};class x{static isNotStarted(t){return t!==T.START.toString()}static setDisplay(t,i){const n=document.getElementById(t);g.isElement(n)&&(n.innerText=i)}static setToDisplay(t,i){const n=document.getElementById(t);if(g.isElement(n)){const o=parseInt(n.innerText);if(o>=0)switch(i.payload){case"up":n.innerText=""+(o+1);break;case"down":n.innerText=""+(o-1);break}}}}function ie(){const e=N(),t=d(y),i=d(J),n=l=>{if(x.isNotStarted(t)){const u=l.target.getAttribute("data-action");e(K(u))}},o=l=>{if(x.isNotStarted(t)){const a=parseInt(l.target.value);e(U(a))}};return s.jsx("div",{className:"break-selector",children:s.jsx(E,{label:"Break Length",labelId:"break-label",inputId:"break-length",btnDownId:"break-decrement",btnUpId:"break-increment",defaultValue:5,inputValue:i,minValue:0,maxValue:60,stepValue:1,handleBtChange:n,handleRangeChange:o})})}function re(){const e=N(),t=d(y),i=d(Q),n=l=>{if(x.isNotStarted(t)){const u=l.target.getAttribute("data-action");e(z(u))}},o=l=>{if(x.isNotStarted(t)){const a=parseInt(l.target.value);e($(a))}};return s.jsx("div",{className:"session-selector",children:s.jsx(E,{label:"Session Length",labelId:"session-label",inputId:"session-length",btnDownId:"session-decrement",btnUpId:"session-increment",defaultValue:25,inputValue:parseInt(i),minValue:0,maxValue:60,stepValue:1,handleBtChange:n,handleRangeChange:o})})}function ne(){const e=N(),t=d(Y),i=()=>{const a=document.querySelector(".timer-control button.active");g.isElement(a)&&a.classList.remove("active")},n=a=>{const u=a.target;t===!0?(e(M()),u.classList.remove("active")):(e(H()),u.classList.add("active"))},o=()=>{const a=document.getElementById("beep");g.isElement(a)&&(a.pause(),a.currentTime=0)},l=()=>{i(),o(),e(P())};return s.jsx("div",{className:"timer-control",children:s.jsxs("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example",children:[s.jsx("button",{id:"start_stop",type:"button",className:"btn btn-default",onClick:n,children:t===!0?s.jsx("i",{className:"fas fa-pause"}):s.jsx("i",{className:"fas fa-play"})}),s.jsx("button",{id:"reset",type:"button",className:"btn btn-default",onClick:l,children:s.jsx("i",{className:"fas fa-sync"})})]})})}const ae=""+new URL("BeepSound-44aadca7.wav",import.meta.url).href;function me(){return s.jsx(q,{store:se,children:s.jsxs("section",{id:"clock-container",className:"container-fluid",children:[s.jsxs("div",{className:"clock-selector",children:[s.jsx(ie,{}),s.jsx(re,{})]}),s.jsxs("div",{className:"clock-body",children:[s.jsx(te,{}),s.jsx(ne,{})]}),s.jsx("div",{className:"clock-footer"}),s.jsx("audio",{id:"beep",preload:"auto",src:ae})]})})}export{me as default};
