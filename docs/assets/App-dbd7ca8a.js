import{u as o,P as n,p as E,r as y,j as a}from"./index-48dc19aa.js";import{c as v,a as D,b as h,u as c,P as b}from"./redux-toolkit.esm-0a44300c.js";import{D as H}from"./displayBox-f83c7c46.js";import{B as j}from"./btRange-8ad2d465.js";const L=""+new URL("Heater-1-4a2026cd.mp3",import.meta.url).href,R=""+new URL("Heater-2-b5771e5b.mp3",import.meta.url).href,N=""+new URL("Heater-3-b358656c.mp3",import.meta.url).href,P=""+new URL("Heater-4_1-57dd4987.mp3",import.meta.url).href,I=""+new URL("Heater-6-ab9ec572.mp3",import.meta.url).href,_=""+new URL("Dsc_Oh-0c5f0d7a.mp3",import.meta.url).href,F=""+new URL("Kick_n_Hat-9e34ec40.mp3",import.meta.url).href,Q=""+new URL("RP4_KICK_1-bd3d88a9.mp3",import.meta.url).href,K="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAEAAAIjwAPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw9paWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlptLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tP////////////////////////////////8AAAA8TEFNRTMuMTAwBK8AAAAAAAAAABUgJAJAQQABzAAACI9k5/u1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwAAB/gAAACAAAD/AAAAEALAMALAKAsBZFYYEAQBQC8hPDgCeKfNjT0FnSICk/ImVxnxS4rQDDBgMEAAwwb4DQ8c0NvFbj0TwdGKOINAwIv8nEEDQToJ7EAxIAtgdHWFg/4b/+7DEKYAAAAH+FAAAIyLBqv8LQMkzAObhtgoMGxY+CoFvYGjIhzg9QAAIAoELv/LhZHGTBqT4uMjCICCZE0ABg4XDiAYdOYGf/xYDNBJEril0Dd1jmkSHAM2LnKwaoFrGmJTD4//+6bobrdq3N4sayMIgSA5ZJkQ0ETc4Mp////6Z9UuX///5OG8i/dzd//7fAAAAG+QYiuOETrdvSSNsRiJC5mrESRgVKhWhiXCBoJGxoEIhoMAC9wJBkX1SAgWQnr5FQxo5gYS3ihSyS7gBA5EAAIwcLMMKC7Tps8bM2iSzQC5CmShYiAx4FUXLwt3MJAFpgofSWkCbxCKGYlJjhCFA8LCAKCzDAgwEbMJARGFAgPMBBzEDwKgpjJwBYEyZqMVIASGmDhRmIGscaNBkBQwKzkHC7KRERmGBIYGCQAKCTLzCyIxkbNpZYWZWMGVmZm4yYMQGRAZgBmbCFhxODigeBhAIgUCEIkAkBMw1sbTqAwCl+FwhHwaEB4CDhwCBhMEmLh4OVy3RiAMnAYMIGFF4MIjEhYz0dAgSNDoFCh4RIhQiBnhFhAsiYCCGTFiJhbgqALO2QQSijOvAh0LoJ7quWeTAi+Jt2HRcmNOc5LiQNDMppXhjd7HDn/rdj//////5c3a7JJfS0vf38DfyZWAJDCLSBOv/pwLgPWgigmz1JRV7OWdNvO/nT/jzDn53cLMlwch9lhm70VA7cmh0dVBClalz9X3ei0mEbG7xGjV2KFd9HJdLMonFmgXlVWnIgiTEpm7gQay0hDAUHBG3KqMlRNZcXoLnJNRJlhC04gYaiCpB/ChTKlHlU0cVVcpW1//7oMTzgGwZoUn9jYAjeS+p+peAAJawCGaAls2spotOUXkPGkv+pco69UOPLCXNYyjpF2SSd+VjOYmi+jtxiFrDPK0pfMF4YqWS2r959pJHN1pQ9rsS+r9BTVJbSTEXlfLH3Zdz/+7V5+Eze+27yr3s3Mt3gCUAAAAACl7FvQUSI+78GqwFqyZQjFDDwJPp9BUG8rH2mtcue8LcpZYaNL4qo5M35poV6BIqsCwt4IgiMje6CsZVJNLYYxIGHwcxqwCusEGAwMsZQ4VCmAAuQTC0jkUREDNoXTsFAIYFC45i5ixSCyAQMJFZIzDAAlTIhZEDhZgwok0ARRKZDgFwAsGEQpskUMoeO6PBBBOcwhEVKmiBmaGio8xBIijLIdNAIY8uZ4whLMcVBIgBCgSABAZl4CAmAKlYBjLCY4MCRpq1jSFQskX2gLbZdiaZbNr7DWvgkRCFL1jLqZEpsRB1HXnUvXkrpjCKUvQeZHCmAJdkgB0JY7+Uleyz2DOv5Rb+LuVCYZeytTyTCPRa/L/9P9VSdbBLpi3K5y5Rv082u/93tumWMAAAFSltE1E1EJDUltJyQUtw9Q9RpGkW5XIchxytWra1rWtrWta1rWrMzM7WszVlatd7KrTkxMTExMTFdadrONLuta3zNrTh0IQEgPCMq2zRkJQlCUJRkZLXa1ZWnJiYrly61rWtZv/7oMTOgCYJl0nZjQACZKhpf57AAVatWu1nazWq2ta9OWtb5mZmta1rVatXLly5cuesEuCgoKBQV3/iCgoL/+Cg1UxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",p=[{name:"bank1",display:"Heater kit",drum_pads:[{id:"Heater-1",shortcut:"Q",key_code:0,display:"Heater 1",sound:L},{id:"Heater-2",shortcut:"W",key_code:0,display:"Heater 2",sound:R},{id:"Heater-3",shortcut:"E",key_code:0,display:"Heater 3",sound:N},{id:"Heater-4",shortcut:"A",key_code:0,display:"Heater 4",sound:P},{id:"Clap",shortcut:"S",key_code:0,display:"Clap",sound:I},{id:"Open-HH",shortcut:"D",key_code:0,display:"Open HH",sound:_},{id:"Kick-n-Hat",shortcut:"Z",key_code:0,display:"Kick n'Hat",sound:F},{id:"Kick",shortcut:"X",key_code:0,display:"Kick",sound:Q},{id:"Closed-HH",shortcut:"C",key_code:0,display:"Closed HH",sound:K}]},{name:"bank2",display:"Smooth Piano Kit",drum_pads:[{id:"Chord_1",shortcut:"Q",key_code:0,display:"Chord 1",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{id:"Chord_2",shortcut:"W",key_code:0,display:"Chord 2",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{id:"Chord-3",shortcut:"E",key_code:0,display:"Chord 3",sound:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{id:"Shaker",shortcut:"A",key_code:0,display:"Shaker",sound:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{id:"Open-HH",shortcut:"S",key_code:0,display:"Open HH",sound:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{id:"Closed-HH",shortcut:"D",key_code:0,display:"Closed HH",sound:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{id:"Punchy-Kick",shortcut:"Z",key_code:0,display:"Punchy Kick",sound:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{id:"Side-Stick",shortcut:"X",key_code:0,display:"Side Kick",sound:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{id:"Snare",shortcut:"C",key_code:0,display:"Snake",sound:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}]}],T=()=>{if(o.isArray(p)){let V="",e=[];const A=p.reduce((t,s,d)=>{if(o.isStr(s.name))return t.push({value:s.name,label:d+1}),e=s.drum_pads,V===""&&(V=s.name),t},[]);return{power:!0,displayMsg:"",volume:50,bank:V,availableBanks:A,bankPads:e}}else throw new Error("Redux Error : Unable to loadSoundBanks, invalid sound banks data. Must be an Array of Objects.")},g=v({name:"mdPreviewer",initialState:T(),reducers:{setSoundBank:{reducer(V,e){V.bank=e.payload.bank,V.displayMsg=e.payload.display,V.bankPads=e.payload.bankPads},prepare(V){if(o.isArray(p)){let e=p.filter(A=>{if(V===A.name)return A});if(e.length===1){if(e=e[0],!o.isStr(e.display)||e.display==="")throw new Error(`Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.display must be a string and not null. ${e.display}`);if(!o.isArray(e.drum_pads)||e.drum_pads.length===0)throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.bankPads must be an Array and not null.");const A=e.display,t=e.drum_pads;return{payload:{bank:V,display:A,bankPads:t}}}else throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. banksData.name must be unique and not null.")}else throw new Error("Redux Error : Unable to setSoundBank, invalid sound banks data. Must be an Array of Objects.")}},setPower(V,e){const A=e.payload===!0;V.power=A,V.displayMsg=A===!0?"Welcome to Drum Machine!!!":"Good bye!!!"},setVolume(V,e){const A=o.isNumber(e.payload)?parseInt(e.payload):25;V.volume=A,V.displayMsg=`Volume set to ${A}%`},setDisplay(V,e){V.displayMsg=o.isStr(e.payload)?e.payload:"Bad Message"}}}),{setSoundBank:W,setPower:Z,setVolume:J,setDisplay:U}=g.actions,k=V=>V.drmMachine.power,G=V=>V.drmMachine.displayMsg,f=V=>V.drmMachine.volume,Y=V=>V.drmMachine.bank,z=V=>V.drmMachine.availableBanks,q=V=>V.drmMachine.bankPads,O=g.reducer,x=D({reducer:{drmMachine:O}});function B({itemId:V,containerClasses:e,label:A,value:t,setValue:s}){y.useEffect(()=>{t===!0&&(document.getElementById(V).checked=!0)},[]);const d=e.reduce((l,u)=>(o.isAttrKey(u)&&(l+=`${u} `),l),"");return a.jsxs("div",{className:`form-check form-switch ${d}`,children:[a.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:V,onChange:s}),a.jsx("label",{className:"form-check-label",htmlFor:V,children:A})]})}B.propTypes={itemId:n.string.isRequired,containerClasses:n.arrayOf(E.string).isRequired,label:n.string.isRequired,value:n.bool.isRequired,setValue:n.func.isRequired};function X(){const V=h(),e=c(k),A=t=>{const s=t.target;V(Z(s.checked))};return a.jsx(B,{itemId:"dm-power-switch",value:e,containerClasses:["power-box"],label:"Power",setValue:A})}function $(){const V=c(G);return a.jsx(H,{displayMsg:V,itemId:"display",itemClass:"display-box"})}function VV(){const V=h(),e=c(k),A=c(f),t=s=>{const d=s.target;V(J(d.value))};return a.jsx(j,{disabled:!e,inputValue:A,inputId:"drum-box-vol",label:`Volume ${A} %`,handleChange:t})}function S({disabled:V,selectedValue:e,options:A,radioName:t,radioId:s,title:d,handleChange:l}){y.useEffect(()=>{if(o.isStr(e)){const m=`${e}-${s}`;document.getElementById(m).checked=!0}},[]);const u=A.map((m,r)=>a.jsxs("div",{className:"pe-2 btn-check-container",children:[a.jsx("input",{type:"radio",className:"btn-check",name:t,id:`${m.value}-${s}`,autoComplete:"off","data-bank":m.value,onChange:l,disabled:!V},r),a.jsx("label",{className:"btn btn-outline-light",htmlFor:`${m.value}-${s}`,children:m.label})]},r));return a.jsxs("div",{className:"btn-check-container",children:[a.jsx("div",{className:"btn-check-header",children:d}),a.jsx("div",{className:"d-flex flex-row btn-check-body",children:u})]})}S.propTypes={disabled:n.bool.isRequired,selectedValue:n.string.isRequired,options:n.array.isRequired,radioName:n.string.isRequired,radioId:n.string.isRequired,title:n.string.isRequired,handleChange:n.func.isRequired};function eV(){const V=h(),e=c(k),A=c(Y),t=c(z),s=d=>{const u=d.target.getAttribute("data-bank");V(W(u))};return a.jsx(S,{disabled:e,selectedValue:A,options:t,radioName:"m8-snd-bank-selector",radioId:"m8-snd-bank",title:"Select a Sound Bank",handleChange:s})}function M({controls:V}){return a.jsx("div",{className:"drum-box-control",children:V})}M.propTypes={controls:n.element.isRequired};function aV(){const V=h(),e=c(k),A=c(f),t=c(q);y.useEffect(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[]);const s=r=>{const i=document.getElementById(`${r}`);o.isElement(i)&&(V(U(i.parentElement.getAttribute("data-display"))),i.volume=o.toFixedFloat(A/100,2),i.play())},d=r=>{const C=r.target.getAttribute("data-shortcut");s(C)},l=r=>{const i=o.isStr(r.key)?r.key.toUpperCase():null;t.filter(w=>{if(w.shortcut===i)return w}).length===1&&s(i)},u=e?"":"disabled",m=t.map((r,i)=>a.jsx("div",{className:"col-4 pad-container",children:a.jsxs("div",{id:r.id,className:`d-flex flex-column justify-content-center drum-pad ${u}`,"data-shortcut":r.shortcut,"data-display":r.display,onClick:e?d:null,children:[a.jsx("audio",{id:r.shortcut,className:"clip",src:e?r.sound:"#"}),r.shortcut]},i)},i));return a.jsx("div",{className:"container-fluid",children:a.jsx("div",{className:"row",children:m})})}function AV(){const V=a.jsxs(a.Fragment,{children:[a.jsx(X,{},"powerSelector"),a.jsx($,{},"displayBox"),a.jsx(VV,{},"volumeSelector"),a.jsx(eV,{},"bankSelector")]});return a.jsx(b,{store:x,children:a.jsx("section",{id:"drum-container",className:"container-fluid d-flex ",children:a.jsx("div",{id:"drum-machine",className:"container-fluid",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{id:"drum-header",className:"col-md-12",children:a.jsx("h1",{children:"M8 Drum Machine"})}),a.jsx("div",{id:"drum-pads",className:"col-md-6",children:a.jsx(aV,{})}),a.jsx("div",{id:"drum-controls",className:"col-md-6",children:a.jsx(M,{controls:V})})]})})})})}function oV(){return a.jsx(b,{store:x,children:a.jsx(AV,{})})}export{oV as default};
